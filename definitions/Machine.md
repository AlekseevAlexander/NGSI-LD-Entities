# Machine
This entity contains a harmonised description of an industrial machine for example for use in CAM (Computer Aided Manufacturing). This entity provides an essentially static description of a generic automation machine. This entity is primarily associated with the industry segment in the automated manufacturing industry, including CNC (Computer Numerical Control) machines, 3D printers and all kinds of industrial robots.

| Attribute Name | Attribute Type | Description | Constraint |
|:--- |:--- |:--- |:---:|
| id | @id | Provides a unique identifier for an instance of the entity either in the form of a URI (i.e. either a publicly accessible URL or a URN). | Mandatory |
| type | @type | Defines the type of the entity. | Mandatory |
| createdAt | DateTime | Indicates the date/ time that the instance of the entity was created in ISO 8601 format. The value of this will be set by the server when the entity was created. | Mandatory |
| modifiedAt | DateTime | Indicates the date/ time when the entity was last modified in ISO 8601 format. The value of this will be set by the server when the entity was modified, if the entity has not been modified it may have a null value. | Optional |
| source | Property | Specifies the URL to the source of this data (either organisation or where relevant more specific source) | Recommended |
| dataProvider | Property | Specifies the URL to information about the provider of this information | Recommended |
| entityVersion | Property | The entity specification version as a number. A version number of 2.0 or later denotes the entity is represented using NGSI-LD | Recommended |
| machineModel | Relationship | A reference to the associated Machine Model for this machine. | Mandatory |
| serialNumber | Property | The serial number assigned by the manufacturer. | Recommended |
| assetIdentifier | Property | An asset identifier (e.g. asset tag number) assigned by the owner. | Optional |
| supplierName | Property | The name of the supplier of this machine. | Recommended |
| countryOfManufacture | Property | The country where this machine was manufactured. | Recommended |
| factory | Property | The factory name/code manufacturing this machine. | Recommended |
| dateFirstUsed | TemporalProperty | Indicates the date/time at which date and time the machine was first used (nominally in UTC). | Recommended |
| dateInstalled | TemporalProperty | Indicates the date/time at which date and time the machine was installed (nominally in UTC). | Recommended |
| dateManufactured | TemporalProperty | Indicates the date/time at which date and time the machine was manufactured (nominally in UTC). | Recommended |
| description | Property | An optional description of this machine. | Recommended |
| owner | Relationship | Reference to the owner or owners of the machine as either a Schema.org person or organization.<br/><br/>https://schema.org/Person<br/><br/>https://schema.org/Organization | Optional |
| hardwareVersion | Property | The (manufacturer specific) hardware version of this machine. | Recommended |
| firmwareVersion | Property | The (manufacturer specific) firmware version of this machine. | Recommended |
| softwareVersion | Property | The (manufacturer specific) software version of this machine. | Recommended |
| osVersion | Property | The (manufacturer specific) operating system version of this machine. | Recommended |
| supportedProtocols | Property | A list of communications protocols supported by the machine. | Optional |
| building | Relationship | Reference to the building entity instance into which this machine is installed. | Optional |
| location | GeoProperty | The installed / last known geo location (point/ polygon) of the machine. | Optional |
| subscriptionServices | Relationship | Reference to service subscriptions related to this machine e.g. energy supplies, Internet Service Providers etc, maintenance | Optional |
| online | Property | The communication status of this machine. A logical representation of Offline (false) or Online (true). | Optional |
| status | Property | Text formatted (current) machine status code or description. Expected to be the manufacturer or machine specific status code generated by the machine. | Optional |
| batteryLevel | Property | Battery level. It must be equal to: <br/><br/>1.0 When the battery charge is full.<br/>0.0 When the battery charge empty.<br/>Null when it cannot be determined. | Optional |
| installationNotes | Property | Notes relating to this machine installation. | Optional |
| voltage | Property | The nominal required supply voltage, in volts. | Optional |
| current | Property | The nominal required supply current (at the nominal supply voltage), in amps. | Optional |
| power | Property | The nominal rated power consumption of the machine in kW. | Optional |
| rotationalSpeed | Property | The maximum rotational speed in rpm (for machines such as drills, lathes). | Optional |

## NGSI-LD Context Definition
The following NGSI-LD context definition applies to the **Machine** entity

[Download context definition.](../examples/Machine-context.jsonld)

```JavaScript
{
    "@context": {
        "source": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/source",
        "dataProvider": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/dataprovider",
        "entityVersion": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/entityversion",
        "machineModel": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/machinemodel",
        "serialNumber": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/serialnumber",
        "assetIdentifier": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/assetidentifier",
        "supplierName": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/suppliername",
        "countryOfManufacture": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/countryofmanufacture",
        "factory": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/factory",
        "dateFirstUsed": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/datefirstused",
        "dateInstalled": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/dateinstalled",
        "dateManufactured": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/datemanufactured",
        "owner": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/owner",
        "hardwareVersion": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/hardwareversion",
        "firmwareVersion": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/firmwareversion",
        "softwareVersion": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/softwareversion",
        "osVersion": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/osversion",
        "supportedProtocols": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/supportedprotocols",
        "building": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/building",
        "subscriptionServices": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/subscriptionservices",
        "online": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/online",
        "batteryLevel": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/batterylevel",
        "installationNotes": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/installationnotes",
        "voltage": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/voltage",
        "current": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/current",
        "power": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/power",
        "rotationalSpeed": "https://www.gsma.com/iot/iot-big-data/ngsi-ld/rotationalspeed"
    }
}
```
## Example of Machine Entity
The following is an example instance of the **Machine** entity

[Download example entity definition.](../examples/Machine.jsonld)

```JavaScript
{
    "@context": [
        "https://forge.etsi.org/gitlab/NGSI-LD/NGSI-LD/raw/master/coreContext/ngsi-ld-core-context.json",
        "https://raw.githubusercontent.com/GSMADeveloper/NGSI-LD-Entities/master/examples/Machine-context.jsonld"
    ],
    "id": "urn:ngsi-ld:Machine:9166c528-9c98-4579-a5d3-8068aea5d6c0",
    "type": "Machine",
    "createdAt": "2017-01-01T01:20:00Z",
    "modifiedAt": "2017-05-04T12:30:00Z",
    "source": "https://source.example.com",
    "dataProvider": "https://provider.example.com",
    "entityVersion": 2.0,
    "machineModel": {
        "type": "Relationship",
        "object": "urn:ngsi-ld:MachineModel:00b42701-43e1-482d-aa7a-e2956cfd69c3"
    },
    "serialNumber": {
        "type": "Property",
        "value": "X9923456789F"
    },
    "assetIdentifier": {
        "type": "Property",
        "value": "ID12345"
    },
    "supplierName": {
        "type": "Property",
        "value": "ACME NorthEast Inc."
    },
    "countryOfManufacture": {
        "type": "Property",
        "value": "UK"
    },
    "factory": {
        "type": "Property",
        "value": "N9"
    },
    "dateFirstUsed": {
        "type": "TemporalProperty",
        "value": "2017-05-04T10:18:16Z"
    },
    "dateInstalled": {
        "type": "TemporalProperty",
        "value": "2017-05-04T10:18:16Z"
    },
    "dateManufactured": {
        "type": "TemporalProperty",
        "value": "2017-05-04T10:18:16Z"
    },
    "description": {
        "type": "Property",
        "value": "Industrial machine to create plastic bottles"
    },
    "owner": {
        "type": "Relationship",
        "object": [
            "urn:ngsi-ld:Person:a498182c-47c0-11e8-be4e-2c4d549a1ab2",
            "urn:ngsi-ld:Organization:abb20712-47c0-11e8-8742-2c4d549a1ab2"
        ]
    },
    "hardwareVersion": {
        "type": "Property",
        "value": "2.1"
    },
    "firmwareVersion": {
        "type": "Property",
        "value": "A.10"
    },
    "softwareVersion": {
        "type": "Property",
        "value": "8.5.C"
    },
    "osVersion": {
        "type": "Property",
        "value": "10A"
    },
    "supportedProtocols": {
        "type": "Property",
        "value": [
            "HTTP",
            "HTTPS",
            "FTP"
        ],
        "observedAt": "2017-05-04T12:30:00Z"
    },
    "building": {
        "type": "Relationship",
        "object": "urn:ngsi-ld:Building:8683b757-649c-49e0-ac89-ad392c9a0d0c"
    },
    "location": {
        "type": "GeoProperty",
        "value": {
            "type": "Point",
            "coordinates": [
                -104.99404,
                39.75621
            ]
        }
    },
    "subscriptionServices": {
        "type": "Relationship",
        "object": [
            "urn:ngsi-ld:SubscriptionService:0d95b03c-47c1-11e8-99fd-2c4d549a1ab2",
            "urn:ngsi-ld:SubscriptionService:1527d0fa-47c1-11e8-8fb1-2c4d549a1ab2"
        ]
    },
    "online": {
        "type": "Property",
        "value": true,
        "observedAt": "2017-05-04T12:30:00Z"
    },
    "status": {
        "type": "Property",
        "value": "SC1001",
        "observedAt": "2017-05-04T12:30:00Z"
    },
    "batteryLevel": {
        "type": "Property",
        "value": 0.7,
        "observedAt": "2017-05-04T12:30:00Z"
    },
    "installationNotes": {
        "type": "Property",
        "value": "Installed according to manufacturer instructions.",
        "docUri": "http://example.com/sample/machine-instructions.pdf"
    },
    "voltage": {
        "type": "Property",
        "value": 220,
        "unitCode": "VLT",
        "observedAt": "2016-08-08T10:18:16Z"
    },
    "current": {
        "type": "Property",
        "value": 20,
        "unitCode": "AMP",
        "observedAt": "2016-08-08T10:18:16Z"
    },
    "power": {
        "type": "Property",
        "value": 4.4,
        "unitCode": "KWT",
        "observedAt": "2016-08-08T10:18:16Z"
    },
    "rotationalSpeed": {
        "type": "Property",
        "value": 10,
        "unitCode": "RPM",
        "observedAt": "2016-08-08T10:18:16Z"
    }
}
```
